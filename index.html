<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles/phone-alert.css" />
    <link rel="stylesheet" href="styles/ar.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Manrope"
      rel="stylesheet"
    />
    <script src="./scripts/aframe-min.js"></script>
    <script src="./scripts/aframe-ar.js"></script>
    <script>
      window.onload = function () {
        if (true) {
          const res = [
            {
              title_element: "Переключатель управления АКПП",
              coordinates: {
                x: -1.4,
                y: 2.1,
                z: -0.25,
              },
              technical_map: [],
              description: [
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Переключатель передач",
                  data_module_id: 32984,
                  publication_id: 2121,
                },
                {
                  title: "Автоматическое управление коробкой передач",
                  data_module_id: 32842,
                  publication_id: 2121,
                },
                {
                  title: "Ручное управление коробкой передач",
                  data_module_id: 32602,
                  publication_id: 2121,
                },
                {
                  title: 'Режимы маневрирования "DM" и "RM"',
                  data_module_id: 32603,
                  publication_id: 2121,
                },
                {
                  title: "Режим движения",
                  data_module_id: 32987,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Электророзетки ",
              coordinates: {
                x: -0.16,
                y: 5.5,
                z: -8.45,
              },
              technical_map: [],
              description: [
                {
                  title: "Электророзетки",
                  data_module_id: 32567,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Вещевой ящик",
              coordinates: {
                x: 5.05,
                y: 0.0,
                z: 6.0,
              },
              technical_map: [],
              description: [
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики и полки",
                  data_module_id: 32569,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики в надоконной полке",
                  data_module_id: 32570,
                  publication_id: 2121,
                },
                {
                  title: "Доступ к вещевым ящикам спальных мест",
                  data_module_id: 32571,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Электророзетки ",
              coordinates: {
                x: 8.53,
                y: 1.1,
                z: -10.0,
              },
              technical_map: [],
              description: [
                {
                  title: "Электророзетки",
                  data_module_id: 32567,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Электророзетки ",
              coordinates: {
                x: 5.32,
                y: 0.0,
                z: 0.38,
              },
              technical_map: [],
              description: [
                {
                  title: "Электророзетки",
                  data_module_id: 32567,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Колонка рулевого управления",
              coordinates: {
                x: -3.22,
                y: 4.55,
                z: -0.33,
              },
              technical_map: [
                {
                  title:
                    "Проверить регулировку колонки рулевого управления в сборе",
                  data_module_id: 32404,
                  publication_id: 2027,
                },
              ],
              description: [
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Рулевое управление",
                  data_module_id: 32442,
                  publication_id: 2121,
                },
                {
                  title: "Кнопки управления на рулевом колесе",
                  data_module_id: 32451,
                  publication_id: 2121,
                },
                {
                  title: "Регулирование положения рулевого колеса",
                  data_module_id: 32545,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Тахограф",
              coordinates: {
                x: -2.44,
                y: 6.25,
                z: -7.8,
              },
              technical_map: [],
              description: [
                {
                  title: "Тахограф цифровой",
                  data_module_id: 32568,
                  publication_id: 2121,
                },
                {
                  title: "Схема пломбирования автомобиля",
                  data_module_id: 32436,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Блок переключателей на двери водителя",
              coordinates: {
                x: -7.8,
                y: 4.63,
                z: 2.55,
              },
              technical_map: [],
              description: [
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Блоки переключателей на двери водителя",
                  data_module_id: 32506,
                  publication_id: 2121,
                },
                {
                  title: "Опускание и подъем боковых стекол водителя/пассажира",
                  data_module_id: 32529,
                  publication_id: 2121,
                },
                {
                  title:
                    "Регулировка положения верхней секции зеркала заднего вида",
                  data_module_id: 32532,
                  publication_id: 2121,
                },
                {
                  title: "Обогрев зеркал",
                  data_module_id: 32961,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Вещевой ящик",
              coordinates: {
                x: 3.55,
                y: 4.3,
                z: -9.42,
              },
              technical_map: [],
              description: [
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики и полки",
                  data_module_id: 32569,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики в надоконной полке",
                  data_module_id: 32570,
                  publication_id: 2121,
                },
                {
                  title: "Доступ к вещевым ящикам спальных мест",
                  data_module_id: 32571,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Блок интерфейса пользователя",
              coordinates: {
                x: -0.25,
                y: 5.1,
                z: -7.9,
              },
              technical_map: [],
              description: [
                {
                  title: "Назначение и органы управления",
                  data_module_id: 32576,
                  publication_id: 2121,
                },
                {
                  title: "Режим работы",
                  data_module_id: 32577,
                  publication_id: 2121,
                },
                {
                  title: 'Экстренный вызов "SOS"',
                  data_module_id: 32578,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Вещевой ящик",
              coordinates: {
                x: 10.0,
                y: -6.6,
                z: -3.35,
              },
              technical_map: [],
              description: [
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики и полки",
                  data_module_id: 32569,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики в надоконной полке",
                  data_module_id: 32570,
                  publication_id: 2121,
                },
                {
                  title: "Доступ к вещевым ящикам спальных мест",
                  data_module_id: 32571,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Вещевой ящик",
              coordinates: {
                x: 5.47,
                y: 2.47,
                z: -8.85,
              },
              technical_map: [],
              description: [
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики и полки",
                  data_module_id: 32569,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики в надоконной полке",
                  data_module_id: 32570,
                  publication_id: 2121,
                },
                {
                  title: "Доступ к вещевым ящикам спальных мест",
                  data_module_id: 32571,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Блок интерфейса пользователя",
              coordinates: {
                x: 8.42,
                y: 0.67,
                z: -9.45,
              },
              technical_map: [],
              description: [
                {
                  title: "Назначение и органы управления",
                  data_module_id: 32576,
                  publication_id: 2121,
                },
                {
                  title: "Режим работы",
                  data_module_id: 32577,
                  publication_id: 2121,
                },
                {
                  title: 'Экстренный вызов "SOS"',
                  data_module_id: 32578,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Рычаг управления стояночной тормозной системой",
              coordinates: {
                x: 1.4,
                y: 0.78,
                z: 2.4,
              },
              technical_map: [],
              description: [
                {
                  title:
                    "Рычаг управления электронной стояночной тормозной системой",
                  data_module_id: 32619,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Растормаживание стояночной тормозной системы",
                  data_module_id: 32620,
                  publication_id: 2121,
                },
                {
                  title: 'Временный стояночный тормоз, функция "Auto Hold"',
                  data_module_id: 32622,
                  publication_id: 2121,
                },
                {
                  title: "Независимое торможение полуприцепа",
                  data_module_id: 32623,
                  publication_id: 2121,
                },
                {
                  title: "Растормаживание полуприцепа",
                  data_module_id: 32624,
                  publication_id: 2121,
                },
                {
                  title: "Притормаживание тягача и полуприцепа",
                  data_module_id: 32625,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Вещевой ящик",
              coordinates: {
                x: 12.85,
                y: -1.81,
                z: -10.82,
              },
              technical_map: [],
              description: [
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики и полки",
                  data_module_id: 32569,
                  publication_id: 2121,
                },
                {
                  title: "Вещевые ящики в надоконной полке",
                  data_module_id: 32570,
                  publication_id: 2121,
                },
                {
                  title: "Доступ к вещевым ящикам спальных мест",
                  data_module_id: 32571,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Блок предохранителей",
              coordinates: {
                x: 10.0,
                y: -9.4,
                z: 3.25,
              },
              technical_map: [
                {
                  title: "Заменить реле",
                  data_module_id: 32405,
                  publication_id: 2027,
                },
                {
                  title: "Заменить предохранитель",
                  data_module_id: 32406,
                  publication_id: 2027,
                },
              ],
              description: [
                {
                  title: "Расположение реле и предохранителей",
                  data_module_id: 32721,
                  publication_id: 2121,
                },
                {
                  title: "Проверка и замена предохранителей",
                  data_module_id: 32723,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Комбинированый переключатель",
              coordinates: {
                x: -5.68,
                y: 4.3,
                z: 0.8,
              },
              technical_map: [],
              description: [
                {
                  title: "Комбинированный переключатель",
                  data_module_id: 32508,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Дальний свет",
                  data_module_id: 32514,
                  publication_id: 2121,
                },
                {
                  title: "Указатели поворота",
                  data_module_id: 32519,
                  publication_id: 2121,
                },
                {
                  title: "Предупредительный световой сигнал",
                  data_module_id: 32520,
                  publication_id: 2121,
                },
                {
                  title: "Стеклоочистители",
                  data_module_id: 32522,
                  publication_id: 2121,
                },
                {
                  title: "Стеклоомыватель",
                  data_module_id: 32525,
                  publication_id: 2121,
                },
                {
                  title: "Звуковой сигнал",
                  data_module_id: 32526,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Электронный замок",
              coordinates: {
                x: -1.5,
                y: 0.25,
                z: 1.55,
              },
              technical_map: [],
              description: [
                {
                  title: "Электронный замок",
                  data_module_id: 32885,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Пуск двигателя",
                  data_module_id: 32980,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Блоки переключателей",
              coordinates: {
                x: 3.04,
                y: 0.89,
                z: 2.56,
              },
              technical_map: [],
              description: [
                {
                  title: "Блоки переключателей на панели приборов",
                  data_module_id: 32956,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Автономный отопитель кабины",
                  data_module_id: 32555,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Блок управления наружным освещением",
              coordinates: {
                x: -6.42,
                y: 2.75,
                z: 2.95,
              },
              technical_map: [],
              description: [
                {
                  title: "Блок управления наружным освещением",
                  data_module_id: 32509,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Переключатель света",
                  data_module_id: 32510,
                  publication_id: 2121,
                },
                {
                  title: "Контурные, габаритные фонари",
                  data_module_id: 32512,
                  publication_id: 2121,
                },
                {
                  title: "Ближний свет",
                  data_module_id: 32513,
                  publication_id: 2121,
                },
                {
                  title: "Дальний свет",
                  data_module_id: 32514,
                  publication_id: 2121,
                },
                {
                  title: "Передние противотуманные фары",
                  data_module_id: 32958,
                  publication_id: 2121,
                },
                {
                  title: "Задние противотуманные фонари",
                  data_module_id: 32516,
                  publication_id: 2121,
                },
                {
                  title: "Регулирование угла наклона фар",
                  data_module_id: 32521,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Бортовая информационная система",
              coordinates: {
                x: 0.0,
                y: 0.0,
                z: 0.0,
              },
              technical_map: [],
              description: [
                {
                  title: "Органы управления",
                  data_module_id: 32911,
                  publication_id: 2121,
                },
                {
                  title: "Пульт управления для БИС 1.0 диагональ 10.1 дюйма",
                  data_module_id: 32912,
                  publication_id: 2121,
                },
                {
                  title: 'Кнопка "ПИТАНИЕ" для БИС 2.0 диагональ 15.6 дюйма',
                  data_module_id: 32474,
                  publication_id: 2121,
                },
                {
                  title:
                    "Включение/Выключение БИС 1.0 диагональ 10.1 дюйма. Подсветка экрана",
                  data_module_id: 32913,
                  publication_id: 2121,
                },
                {
                  title:
                    "Включение/Выключение БИС 2.0 диагональ 15.6 дюйма. Подсветка экрана",
                  data_module_id: 32475,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Комбинация приборов",
              coordinates: {
                x: -5.5,
                y: 0.75,
                z: 0.45,
              },
              technical_map: [],
              description: [
                {
                  title: "Описание комбинации приборов",
                  data_module_id: 32886,
                  publication_id: 2121,
                },
                {
                  title: "Контрольные сигнализаторы на комбинации приборов",
                  data_module_id: 32887,
                  publication_id: 2121,
                },
                {
                  title: "Главная страница",
                  data_module_id: 32453,
                  publication_id: 2121,
                },
                {
                  title:
                    "Контрольные сигнализаторы на дисплее комбинации приборов",
                  data_module_id: 32472,
                  publication_id: 2121,
                },
              ],
            },
            {
              title_element: "Блок переключателей на двери пассажира",
              coordinates: {
                x: 15.1,
                y: -6.8,
                z: -1.42,
              },
              technical_map: [],
              description: [
                {
                  title: "Блок переключателей на двери пассажира",
                  data_module_id: 32507,
                  publication_id: 2121,
                },
                {
                  title:
                    "Включение и выключение внутреннего освещения кабины клавишными переключателями, расположенными на двери пассажира",
                  data_module_id: 32565,
                  publication_id: 2121,
                },
                {
                  title: "Рабочее место водителя",
                  data_module_id: 32448,
                  publication_id: 2121,
                },
                {
                  title: "Опускание и подъем боковых стекол водителя/пассажира",
                  data_module_id: 32529,
                  publication_id: 2121,
                },
              ],
            },
          ];

          res.map((element) => {
            const coords = `${element.coordinates.x} ${element.coordinates.y} ${element.coordinates.z}`;

            const entity = document.createElement("a-entity");
            entity.setAttribute("rotation", "-90 180 0");
            entity.setAttribute("position", coords);
            entity.setAttribute("material", "src: #info");
            entity.setAttribute("geometry", "primitive: circle; radius: 0.2");
            entity.setAttribute("infocomponent", "");
            entity.addEventListener("click", () => openModal(element));

            const marker = document.querySelector("a-marker");
            marker.appendChild(entity);
          });
        }
      };
    </script>
  </head>
  <body>
    <a-scene
      embedded
      arjs="sourceWidth: window.innerWidth > window.innerHeight ? 640 : 480; sourceHeight: window.innerWidth > window.innerHeight ? 480 : 640"
    >
      <a-assets>
        <img id="info" src="info.png" alt="info" />
      </a-assets>

      <a-marker preset="hiro"> </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
